{% extends 'layout.html' %}
{% include 'includes/_navbar.html' %}

{% block head %}
<link rel="stylesheet" href="../static/css/adding_users.css">
{% endblock %}

{% block body %}
<div style="padding-bottom: 3rem;"></div>

<div class="container">
    <div class="heading-section">
        <h1 class="main-form-h1">
            Register Patient
        </h1>
        <div class="heading-text">
            <p>
                Just fill out the following details in order to register a patient.
            </p>
        </div>
    </div>
    <div class="form-container">
        <form class="main-form needs-validation" novalidate action="#" method="POST">
            <div class="form-row">
                <div class="col">
                    <div class="md-form">
                        <label for="firstname">First Name</label>
                        <input type="text" name="firstname" id="firstname"
                               class="form-control" required pattern="[A-Za-z]{2,}" value="">
                        <div class="invalid-feedback"> Invalid First Name!</div>
                    </div>
                </div>
                <div class="col">
                    <div class="md-form">
                        <label for="lastname">Last Name</label>
                        <input type="text" name="lastname" id="lastname" class="form-control" required
                               pattern="[A-Za-z]{2,}" value="">
                        <div class="invalid-feedback"> Invalid Last Name!</div>
                    </div>
                </div>
            </div>
            <div class="md-form">
                <label for="cnic">Patient CNIC</label>
                <input type="text" name="cnic" id="cnic" class="form-control" required pattern="[0-9]{13}"
                       maxlength=13 value="">
                <div class="invalid-feedback"> Invalid CNIC!</div>
            </div>
            <div class="md-form">
                <label for="email">Patient email</label>
                <input type="email" name="email" required id="email" class="form-control" value="">
                <div class="invalid-feedback"> Invalid Email address!</div>
            </div>
            <div class="md-form">
                <label class="control-label" for="contact-no">Contact Number</label>
                <input class="form-control" required pattern="[0-9-]{12}" id="contact-no" name="contact-no" maxlength=12
                       type="text"/>
                <div class="invalid-feedback"> Invalid Contact Number!</div>
                <br>
            </div>
            <!--            <div class="md-form">-->

            <!--                <input type="date" id="dob" name="dob" required class="form-control datepicker">-->
            <!--                <label for="dob">Date of Birth</label>-->
            <!--                <div class="invalid-feedback"> Invalid Date of Birth!</div>-->
            <!--            </div>-->
            <div class="md-form">
                <input type="date" name="dob" id="dob" class="form-control">
                <label for="dob">Date of Birth</label>
            </div>

            <div class="form-row">
                <div class="col">
                    <div class="md-form">
                        <select class="mdb-select " name="blood-group" id="blood-group">
                            <option value="" disabled selected>Choose Blood Group</option>
                            <option value="O+">O+</option>
                            <option value="A+">A+</option>
                            <option value="B+">B+</option>
                            <option value="AB+">AB+</option>
                            <option value="O-">O-</option>
                            <option value="A-">A-</option>
                            <option value="B-">B-</option>
                            <option value="AB-">AB-</option>
                        </select>
                    </div>
                </div>

            </div>
            <div class="form-row">
                <div class="col">
                    <div class="md-form">

                        <select class="mdb-select " name="gender" id="gender">
                            <option value="" disabled selected>Choose Gender</option>
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                </div>
                <div class="col">
                    <div class="md-form">
                        <label class="control-label" for="weight">Patient Weight</label>
                        <input class="form-control" required pattern="[0-9]{1,3}" id="weight" name="weight"
                               type="text"/>
                        <div class="invalid-feedback"> Invalid Patient Weight!</div>
                    </div>
                </div>
            </div>
            <div class="md-form">
                <label class="control-label" for="address">Address</label>
                <input class="form-control" required id="address" name="address"
                       type="text"/>
                <div class="invalid-feedback"> Invalid Address!</div>
            </div>
            <div class="md-form">
                <label class="control-label" for="address2">Address 2 </label>
                <input class="form-control" id="address2" name="address2"
                       type="text"/>
            </div>
            <div class="md-form">
                <select class="mdb-select md-form" name="department" id="department">
                    <option value="" disabled selected>Choose Department</option>

                    {% for o in dept %}
                    <option value="{{ o.department_id }}" SELECTED>{{ o.name }}</option>
                    {% endfor %}

                </select>
            </div>
            <div class="md-form">
                <select class="mdb-select md-form" name="ward" id="ward">
                    <option value="" disabled selected>Room No</option>

                    {% for o in wards %}
                    <option value="{{ o.ward_no }}" SELECTED>{{ o.ward_no }}</option>
                    {% endfor %}

                </select>
            </div>
            <div class="md-form">
                <label class="control-label" for="disease">Diseases</label>
                <input class="form-control" id="disease" name="disease"
                       type="text"/>
            </div>
            <div class="md-form">
                <label class="control-label" for="allergies">Allergies</label>
                <input class="form-control" id="allergies" name="allergies"
                       type="text"/>
            </div>
            <!--Material textarea-->
            <div class="md-form">
                <textarea id="remarks" name="remarks" class="md-textarea form-control" rows="3"></textarea>
                <label for="remarks">Remarks</label>
            </div>
            <button class="btn primary-color white-text  btn-block">Register Patient</button>
        </form>
    </div>
</div>


<script>
    var form = document.querySelector(".needs-validation");
    form.addEventListener("submit", function (event) {
        if (form.checkValidity() === false) {
            event.preventDefault();
            event.stopPropagation();
        }
        form.classList.add("was-validated");
    })
</script>

<!--<script type="text/javascript" src="lib/jquery-3.4.1.min.js">-->

<!--    $('.datepicker').pickadate({-->
<!--        formatSubmit: 'yyyy/mm/dd'-->
<!--    });-->

<!--</script>-->

{% endblock %}
